import{N as c,ar as U,P as f,$ as V,X as a,am as x,O as q,r as B,f as C,aq as F,o as Q,d as S,U as T,T as u,V as $,Y as I}from"./index-D2xDmAbW.js";import{u as M,_ as h,a as j,Q as k}from"./NameInput.vue_vue_type_script_setup_true_lang-CYyutI8q.js";import{u as p}from"./node-CTWI6DnX.js";import{a as O}from"./useNavigation-NGvSWLtQ.js";import{u as v}from"./vue-i18n-D4KoXNSB.js";const P=c({__name:"ContentInput",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(r){const{t}=v(),e=U(r,"modelValue");return(i,s)=>(f(),V(x,{filled:"",autogrow:"",type:"textarea",modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=n=>e.value=n),label:a(t)("form.content"),rows:"3",hint:""},null,8,["modelValue","label"]))}}),R={class:"flex justify-end"},G=c({__name:"FileView",setup(r){const{t}=v(),{selectedNode:e}=q(p()),{unselectNode:i}=p(),s={...e.value},n=e.value.type!=="file",d=B([]),_=C("pageTitle");_.value=t(n?"layout.createFile":"layout.editFile");const{success:m}=F(),{navigate:b}=O(),{createNode:y,editNode:N,getFolders:g}=M();Q(()=>{d.value=g(e.value.path,e.value.label),e.value.path!=="/"&&(d.value=["..",...d.value])});const w=async()=>{n?(await y(e.value),m(t("notify.fileCreated"))):(await N(s,e.value),m(t("notify.fileUpdated"))),await b("home")};return S(()=>{i()}),(X,l)=>(f(),V(k,{onSubmit:w,class:"q-gutter-md q-pa-lg"},{default:T(()=>[u(h,{modelValue:a(e).label,"onUpdate:modelValue":l[0]||(l[0]=o=>a(e).label=o)},null,8,["modelValue"]),u(j,{modelValue:a(e).path,"onUpdate:modelValue":l[1]||(l[1]=o=>a(e).path=o),label:a(e).label},null,8,["modelValue","label"]),u(P,{modelValue:a(e).content,"onUpdate:modelValue":l[2]||(l[2]=o=>a(e).content=o)},null,8,["modelValue"]),$("div",R,[u(I,{label:a(t)("button.submit"),type:"submit",color:"primary",class:"q-ml-sm"},null,8,["label"])])]),_:1}))}});export{G as _};
