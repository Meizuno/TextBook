import{N as v,r as b,P as c,f as h,d as N,O as _,a0 as V,U as g,T as s,V as w,X as x,Y as B}from"./index-B1GS6p5i.js";import{u as U,_ as C,a as F,Q as q}from"./NameInput.vue_vue_type_script_setup_true_lang-BV8xHwBe.js";import{a as E}from"./QIntersection-BCbHE8ML.js";import{u as I}from"./useNotify-738yghxo.js";import{u as Q}from"./vue-i18n-DDXT5T29.js";const S={class:"flex justify-end"},X=v({__name:"FolderView",setup(T){const{t}=Q(),e=b(JSON.parse(c.getItem("selectedNode")??'{ "label": "", "path": "", "content": "", "type": "" }')),a=e.value,n=e.value.type!=="directory",p=h("pageTitle");p.value=t(n?"layout.createFolder":"layout.editFolder");const{success:r,error:i}=I(),{navigate:d}=E(),{createNode:m,editNode:f,isExists:u}=U(),y=async()=>{n?await u({label:e.value.label,path:e.value.path,type:"directory",content:""})?i(t("notify.folderExists")):(await m({label:e.value.label,path:e.value.path,type:"directory",content:""}),r(t("notify.folderCreated")),await d("home")):await u({label:e.value.label,path:e.value.path,type:"directory",content:""})?i(t("notify.folderExists")):(await f({id:a.id,label:a.label,path:a.path,content:a.content,type:"directory"},{label:e.value.label,path:e.value.path,content:e.value.content,type:"directory"}),r(t("notify.folderUpdated")),await d("home"))};return N(()=>{c.removeItem("selectedNode")}),(j,l)=>(_(),V(q,{onSubmit:y,class:"q-gutter-md q-pa-lg"},{default:g(()=>[s(C,{modelValue:e.value.label,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.label=o)},null,8,["modelValue"]),s(F,{modelValue:e.value.path,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.path=o)},null,8,["modelValue"]),w("div",S,[s(B,{label:x(t)("button.submit"),type:"submit",color:"primary",class:"q-ml-sm"},null,8,["label"])])]),_:1}))}});export{X as _};
