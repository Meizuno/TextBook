import{N as p,ar as w,P as c,$ as f,am as y,O as F,r as x,f as U,aq as q,o as B,d as C,U as S,T as n,X as a,V as Q,Y as T}from"./index-3eUfLIpM.js";import{u as $,_ as M,a as h,Q as j}from"./NameInput.vue_vue_type_script_setup_true_lang-BuqWTGhD.js";import{u as m}from"./node-DrT1nSb9.js";import{a as k}from"./useNavigation-DXLFP8Sp.js";const I=p({__name:"ContentInput",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(d){const e=w(d,"modelValue");return(i,o)=>(c(),f(y,{filled:"",autogrow:"",type:"textarea",modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=s=>e.value=s),label:"Content",rows:"3",hint:""},null,8,["modelValue"]))}}),E={class:"flex justify-end"},z=p({__name:"FileView",setup(d){const{selectedNode:e}=F(m()),{unselectNode:i}=m(),o={...e.value},s=e.value.type!=="file",u=x([]),V=U("pageTitle");V.value=s?"New File":"Edit File";const{success:r}=q(),{navigate:v}=k(),{createNode:_,editNode:N,getFolders:b}=$();B(()=>{u.value=b(e.value.path,e.value.label),e.value.path!=="/"&&(u.value=["..",...u.value])});const g=async()=>{s?(await _(e.value),r("File created")):(await N(o,e.value),r("File updated")),await v("home")};return C(()=>{i()}),(O,t)=>(c(),f(j,{onSubmit:g,class:"q-gutter-md q-pa-lg"},{default:S(()=>[n(M,{modelValue:a(e).label,"onUpdate:modelValue":t[0]||(t[0]=l=>a(e).label=l)},null,8,["modelValue"]),n(h,{modelValue:a(e).path,"onUpdate:modelValue":t[1]||(t[1]=l=>a(e).path=l),label:a(e).label},null,8,["modelValue","label"]),n(I,{modelValue:a(e).content,"onUpdate:modelValue":t[2]||(t[2]=l=>a(e).content=l)},null,8,["modelValue"]),Q("div",E,[n(T,{label:"Submit",type:"submit",color:"primary",class:"q-ml-sm"})])]),_:1}))}});export{z as _};
