import{N as v,r as y,P as d,f as N,d as _,O as b,a0 as V,U as g,T as l,V as h,X as w,Y as B}from"./index-BNvMsS6_.js";import{u as U,_ as x,a as C,Q as F}from"./NameInput.vue_vue_type_script_setup_true_lang-C0RfUO2m.js";import{a as q}from"./QIntersection-DCDDXev9.js";import{u as I}from"./useNotify-C6HZLPkq.js";import{u as Q}from"./vue-i18n-ZNReUlDh.js";const S={class:"flex justify-end"},J=v({__name:"FolderView",setup(T){const{t}=Q(),e=y(JSON.parse(d.getItem("selectedNode")??'{ "label": "", "path": "", "content": "", "type": "" }')),i={...e.value},s=e.value.type!=="directory",m=N("pageTitle");m.value=t(s?"layout.createFolder":"layout.editFolder");const{success:r}=I(),{navigate:u}=q(),{createNode:c,editNode:p}=U(),f=async()=>{s?await c(e.value.label.trim(),e.value.path,"directory")&&(r(t("notify.folderCreated")),await u("home")):await p(i.id,e.value.label.trim(),e.value.path,"directory",e.value.content)&&(r(t("notify.folderUpdated")),await u("home"))};return _(()=>{d.removeItem("selectedNode")}),(n,a)=>(b(),V(F,{onSubmit:f,class:"q-gutter-md q-pa-lg"},{default:g(()=>[l(x,{modelValue:e.value.label,"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.label=o)},null,8,["modelValue"]),l(C,{modelValue:e.value.path,"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.path=o)},null,8,["modelValue"]),h("div",S,[l(B,{label:w(t)("button.submit"),type:"submit",color:"primary",class:"q-ml-sm"},null,8,["label"])])]),_:1}))}});export{J as _};
