import{N as c,ao as U,P as f,$ as V,X as t,ak as x,O as B,r as C,f as F,o as q,d as Q,U as S,T as u,V as T,Y as $}from"./index-91QBpGec.js";import{u as k,_ as I,a as M,Q as h}from"./NameInput.vue_vue_type_script_setup_true_lang-BgSheU7H.js";import{u as p}from"./node-CFq-Bm9a.js";import{a as j}from"./QIntersection-vB2e5Jkm.js";import{u as O}from"./useNotify-CgRm2UxP.js";import{u as v}from"./vue-i18n-Chy8k9Cj.js";const P=c({__name:"ContentInput",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:a}=v(),e=U(i,"modelValue");return(r,s)=>(f(),V(x,{filled:"",autogrow:"",type:"textarea",modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=n=>e.value=n),label:t(a)("form.content"),rows:"3",hint:""},null,8,["modelValue","label"]))}}),R={class:"flex justify-end"},H=c({__name:"FileView",setup(i){const{t:a}=v(),{selectedNode:e}=B(p()),{unselectNode:r}=p(),s={...e.value},n=e.value.type!=="file",d=C([]),_=F("pageTitle");_.value=a(n?"layout.createFile":"layout.editFile");const{success:m}=O(),{navigate:y}=j(),{createNode:N,editNode:b,getFolders:g}=k();q(async()=>{d.value=await g(e.value.path),e.value.path!=="/"&&(d.value=["..",...d.value])});const w=async()=>{n?(await N(e.value),m(a("notify.fileCreated"))):(await b(s,e.value),m(a("notify.fileUpdated"))),await y("home")};return Q(()=>{r()}),(X,o)=>(f(),V(h,{onSubmit:w,class:"q-gutter-md q-pa-lg"},{default:S(()=>[u(I,{modelValue:t(e).label,"onUpdate:modelValue":o[0]||(o[0]=l=>t(e).label=l)},null,8,["modelValue"]),u(M,{modelValue:t(e).path,"onUpdate:modelValue":o[1]||(o[1]=l=>t(e).path=l)},null,8,["modelValue"]),u(P,{modelValue:t(e).content,"onUpdate:modelValue":o[2]||(o[2]=l=>t(e).content=l)},null,8,["modelValue"]),T("div",R,[u($,{label:t(a)("button.submit"),type:"submit",color:"primary",class:"q-ml-sm"},null,8,["label"])])]),_:1}))}});export{H as _};
