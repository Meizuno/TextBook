import{K as p,ar as w,M as c,X as f,am as y,L as F,r as U,f as q,aq as x,o as C,d as S,Y as B,P as n,T as a,U as M}from"./index-CFHqsdGC.js";import{u as Q,_ as T,a as $,Q as h}from"./NameInput.vue_vue_type_script_setup_true_lang-B3I3WrME.js";import{u as m}from"./node-7MOJRZUE.js";import{a as k}from"./useNavigation-DeBKI7_c.js";const I=p({__name:"ContentInput",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(d){const e=w(d,"modelValue");return(r,o)=>(c(),f(y,{filled:"",autogrow:"",type:"textarea",modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=s=>e.value=s),label:"Content",rows:"3",hint:""},null,8,["modelValue"]))}}),R=p({__name:"FileView",setup(d){const{selectedNode:e}=F(m()),{unselectNode:r}=m(),o={...e.value},s=e.value.type!=="file",u=U([]),V=q("pageTitle");V.value=s?"New File":"Edit File";const{success:i}=x(),{navigate:v}=k(),{createNode:_,editNode:b,getFolders:N}=Q();C(()=>{u.value=N(e.value.path,e.value.label),e.value.path!=="/"&&(u.value=["..",...u.value])});const g=async()=>{s?(await _(e.value),i("File created")):(await b(o,e.value),i("File updated")),await v("home")};return S(()=>{r()}),(j,t)=>(c(),f(h,{onSubmit:g,class:"q-gutter-md q-pa-lg"},{default:B(()=>[n(T,{modelValue:a(e).label,"onUpdate:modelValue":t[0]||(t[0]=l=>a(e).label=l)},null,8,["modelValue"]),n($,{modelValue:a(e).path,"onUpdate:modelValue":t[1]||(t[1]=l=>a(e).path=l),label:a(e).label},null,8,["modelValue","label"]),n(I,{modelValue:a(e).content,"onUpdate:modelValue":t[2]||(t[2]=l=>a(e).content=l)},null,8,["modelValue"]),n(M,{label:"Submit",type:"submit",color:"primary",class:"q-ml-sm float-right"})]),_:1}))}});export{R as _};
