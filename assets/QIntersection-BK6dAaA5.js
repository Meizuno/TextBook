import{aq as I,r as m,aJ as y,a6 as q,aK as w,c as N,i as v,a as c,h as f,a2 as S,M as _,b as R}from"./index-D372VnUW.js";const D=I("animation",()=>{const e=m("slide-right");return{transitionName:e,setTransitionName:t=>{e.value=t}}});function B(){const e=y(),{setTransitionName:n}=D(),t=async s=>{const r=e.options.routes[0]?.children?.findIndex(a=>a.name===e.currentRoute.value.name),o=e.options.routes[0]?.children?.findIndex(a=>a.name===s);r!==void 0&&o!==void 0&&n(r<o?"slide-left":"slide-right"),await e.push({name:s})};return{navigate:t,swipeRight:async()=>{const r=(e.options.routes[0]?.children?.findIndex(a=>a.name===e.currentRoute.value.name)||0)-1,o=e.options.routes[0]?.children?.[r]?.name;o&&await t(o)},swipeLeft:async()=>{const r=(e.options.routes[0]?.children?.findIndex(a=>a.name===e.currentRoute.value.name)||0)+1,o=e.options.routes[0]?.children?.[r]?.name;o&&await t(o)}}}const h={threshold:0,root:null,rootMargin:"0px"};function g(e,n,t){let i,u,s;typeof t=="function"?(i=t,u=h,s=n.cfg===void 0):(i=t.handler,u=Object.assign({},h,t.cfg),s=n.cfg===void 0||w(n.cfg,u)===!1),n.handler!==i&&(n.handler=i),s===!0&&(n.cfg=u,n.observer!==void 0&&n.observer.unobserve(e),n.observer=new IntersectionObserver(([r])=>{if(typeof n.handler=="function"){if(r.rootBounds===null&&document.body.contains(e)===!0){n.observer.unobserve(e),n.observer.observe(e);return}(n.handler(r,n.observer)===!1||n.once===!0&&r.isIntersecting===!0)&&b(e)}},u),n.observer.observe(e))}function b(e){const n=e.__qvisible;n!==void 0&&(n.observer!==void 0&&n.observer.unobserve(e),delete e.__qvisible)}const x=q({name:"intersection",mounted(e,{modifiers:n,value:t}){const i={once:n.once===!0};g(e,i,t),e.__qvisible=i},updated(e,n){const t=e.__qvisible;t!==void 0&&g(e,t,n.value)},beforeUnmount:b}),T=N({name:"QIntersection",props:{tag:{type:String,default:"div"},once:Boolean,transition:String,transitionDuration:{type:[String,Number],default:300},ssrPrerender:Boolean,margin:String,threshold:[Number,Array],root:{default:null},disable:Boolean,onVisibility:Function},setup(e,{slots:n,emit:t}){const i=m(v.value===!0?e.ssrPrerender:!1),u=c(()=>e.root!==void 0||e.margin!==void 0||e.threshold!==void 0?{handler:a,cfg:{root:e.root,rootMargin:e.margin,threshold:e.threshold}}:a),s=c(()=>e.disable!==!0&&(v.value!==!0||e.once!==!0||e.ssrPrerender!==!0)),r=c(()=>[[x,u.value,void 0,{once:e.once}]]),o=c(()=>`--q-transition-duration: ${e.transitionDuration}ms`);function a(d){i.value!==d.isIntersecting&&(i.value=d.isIntersecting,e.onVisibility!==void 0&&t("visibility",i.value))}function l(){if(i.value===!0)return[f("div",{key:"content",style:o.value},R(n.default))];if(n.hidden!==void 0)return[f("div",{key:"hidden",style:o.value},n.hidden())]}return()=>{const d=e.transition?[f(S,{name:"q-transition--"+e.transition},l)]:l();return _(e.tag,{class:"q-intersection"},d,"main",s.value,()=>r.value)}}});export{T as Q,B as a,D as u};
