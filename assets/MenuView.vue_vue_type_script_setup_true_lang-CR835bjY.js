import{a4 as Oe,a5 as Re,a6 as V,n as De,a7 as je,a8 as W,a9 as ne,aa as ue,ab as le,ac as oe,ad as ie,x as se,c as J,d as Te,h as k,a1 as Ue,K as Se,L as Ee,r as B,ae as Ve,a as z,w as de,g as ce,e as Ye,v as He,af as Ke,Q as M,ag as Ie,s as Xe,ah as Ge,ai as be,b as $e,D as We,o as Je,M as Ze,F as et,E as tt,N as nt,O as lt,aj as ke,f as it,P as N,$ as Y,U as H,V as L,T as D,X as j,ak as rt,W as pe,Y as xe,al as at,S as _e,am as ut,an as ot}from"./index-B3Y9ZVaz.js";import{a as st,Q as dt}from"./QIntersection-D51B9KvY.js";import{u as ct}from"./node-BMibRQGX.js";import{u as ft}from"./use-quasar-CZDgBYGy.js";import{u as ht}from"./vue-i18n-C3m_XhZl.js";const fe={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},vt=Object.keys(fe);fe.all=!0;function we(e){const r={};for(const s of vt)e[s]===!0&&(r[s]=!0);return Object.keys(r).length===0?fe:(r.horizontal===!0?r.left=r.right=!0:r.left===!0&&r.right===!0&&(r.horizontal=!0),r.vertical===!0?r.up=r.down=!0:r.up===!0&&r.down===!0&&(r.vertical=!0),r.horizontal===!0&&r.vertical===!0&&(r.all=!0),r)}const yt=["INPUT","TEXTAREA"];function Ce(e,r){return r.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof r.handler=="function"&&yt.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(r.uid)===-1)}function gt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Oe.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function re(e,r,s){const y=oe(e);let t,i=y.left-r.event.x,o=y.top-r.event.y,f=Math.abs(i),d=Math.abs(o);const c=r.direction;c.horizontal===!0&&c.vertical!==!0?t=i<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?t=o<0?"up":"down":c.up===!0&&o<0?(t="up",f>d&&(c.left===!0&&i<0?t="left":c.right===!0&&i>0&&(t="right"))):c.down===!0&&o>0?(t="down",f>d&&(c.left===!0&&i<0?t="left":c.right===!0&&i>0&&(t="right"))):c.left===!0&&i<0?(t="left",f<d&&(c.up===!0&&o<0?t="up":c.down===!0&&o>0&&(t="down"))):c.right===!0&&i>0&&(t="right",f<d&&(c.up===!0&&o<0?t="up":c.down===!0&&o>0&&(t="down")));let w=!1;if(t===void 0&&s===!1){if(r.event.isFirst===!0||r.event.lastDir===void 0)return{};t=r.event.lastDir,w=!0,t==="left"||t==="right"?(y.left-=i,f=0,i=0):(y.top-=o,d=0,o=0)}return{synthetic:w,payload:{evt:e,touch:r.event.mouse!==!0,mouse:r.event.mouse===!0,position:y,direction:t,isFirst:r.event.isFirst,isFinal:s===!0,duration:Date.now()-r.event.time,distance:{x:f,y:d},offset:{x:i,y:o},delta:{x:y.left-r.event.lastX,y:y.top-r.event.lastY}}}}let mt=0;const bt=Re({name:"touch-pan",beforeMount(e,{value:r,modifiers:s}){if(s.mouse!==!0&&V.has.touch!==!0)return;function y(i,o){s.mouse===!0&&o===!0?se(i):(s.stop===!0&&le(i),s.prevent===!0&&ue(i))}const t={uid:"qvtp_"+mt++,handler:r,modifiers:s,direction:we(s),noop:De,mouseStart(i){Ce(i,t)&&je(i)&&(W(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(i,!0))},touchStart(i){if(Ce(i,t)){const o=i.target;W(t,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),t.start(i)}},start(i,o){if(V.is.firefox===!0&&ne(e,!0),t.lastEvt=i,o===!0||s.stop===!0){if(t.direction.all!==!0&&(o!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const c=i.type.indexOf("mouse")!==-1?new MouseEvent(i.type,i):new TouchEvent(i.type,i);i.defaultPrevented===!0&&ue(c),i.cancelBubble===!0&&le(c),Object.assign(c,{qKeyEvent:i.qKeyEvent,qClickOutside:i.qClickOutside,qAnchorHandled:i.qAnchorHandled,qClonedBy:i.qClonedBy===void 0?[t.uid]:i.qClonedBy.concat(t.uid)}),t.initialEvent={target:i.target,event:c}}le(i)}const{left:f,top:d}=oe(i);t.event={x:f,y:d,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:f,lastY:d}},move(i){if(t.event===void 0)return;const o=oe(i),f=o.left-t.event.x,d=o.top-t.event.y;if(f===0&&d===0)return;t.lastEvt=i;const c=t.event.mouse===!0,w=()=>{y(i,c);let C;s.preserveCursor!==!0&&s.preservecursor!==!0&&(C=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),gt(),t.styleCleanup=E=>{if(t.styleCleanup=void 0,C!==void 0&&(document.documentElement.style.cursor=C),document.body.classList.remove("non-selectable"),c===!0){const v=()=>{document.body.classList.remove("no-pointer-events--children")};E!==void 0?setTimeout(()=>{v(),E()},50):v()}else E!==void 0&&E()}};if(t.event.detected===!0){t.event.isFirst!==!0&&y(i,t.event.mouse);const{payload:C,synthetic:E}=re(i,t,!1);C!==void 0&&(t.handler(C)===!1?t.end(i):(t.styleCleanup===void 0&&t.event.isFirst===!0&&w(),t.event.lastX=C.position.left,t.event.lastY=C.position.top,t.event.lastDir=E===!0?void 0:C.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||c===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){w(),t.event.detected=!0,t.move(i);return}const S=Math.abs(f),x=Math.abs(d);S!==x&&(t.direction.horizontal===!0&&S>x||t.direction.vertical===!0&&S<x||t.direction.up===!0&&S<x&&d<0||t.direction.down===!0&&S<x&&d>0||t.direction.left===!0&&S>x&&f<0||t.direction.right===!0&&S>x&&f>0?(t.event.detected=!0,t.move(i)):t.end(i,!0))},end(i,o){if(t.event!==void 0){if(ie(t,"temp"),V.is.firefox===!0&&ne(e,!1),o===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(re(i===void 0?t.lastEvt:i,t).payload);const{payload:f}=re(i===void 0?t.lastEvt:i,t,!0),d=()=>{t.handler(f)};t.styleCleanup!==void 0?t.styleCleanup(d):d()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,s.mouse===!0){const i=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";W(t,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}V.has.touch===!0&&W(t,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,r){const s=e.__qtouchpan;s!==void 0&&(r.oldValue!==r.value&&(typeof value!="function"&&s.end(),s.handler=r.value),s.direction=we(r.modifiers))},beforeUnmount(e){const r=e.__qtouchpan;r!==void 0&&(r.event!==void 0&&r.end(),ie(r,"main"),ie(r,"temp"),V.is.firefox===!0&&ne(e,!1),r.styleCleanup!==void 0&&r.styleCleanup(),delete e.__qtouchpan)}}),kt=J({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:r,emit:s}){let y=!1,t,i,o=null,f=null,d,c;function w(){t&&t(),t=null,y=!1,o!==null&&(clearTimeout(o),o=null),f!==null&&(clearTimeout(f),f=null),i!==void 0&&i.removeEventListener("transitionend",d),d=null}function S(v,$,p){$!==void 0&&(v.style.height=`${$}px`),v.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,y=!0,t=p}function x(v,$){v.style.overflowY=null,v.style.height=null,v.style.transition=null,w(),$!==c&&s($)}function C(v,$){let p=0;i=v,y===!0?(w(),p=v.offsetHeight===v.scrollHeight?0:void 0):(c="hide",v.style.overflowY="hidden"),S(v,p,$),o=setTimeout(()=>{o=null,v.style.height=`${v.scrollHeight}px`,d=g=>{f=null,(Object(g)!==g||g.target===v)&&x(v,"show")},v.addEventListener("transitionend",d),f=setTimeout(d,e.duration*1.1)},100)}function E(v,$){let p;i=v,y===!0?w():(c="show",v.style.overflowY="hidden",p=v.scrollHeight),S(v,p,$),o=setTimeout(()=>{o=null,v.style.height=0,d=g=>{f=null,(Object(g)!==g||g.target===v)&&x(v,"hide")},v.addEventListener("transitionend",d),f=setTimeout(d,e.duration*1.1)},100)}return Te(()=>{y===!0&&w()}),()=>k(Ue,{css:!1,appear:e.appear,onEnter:C,onLeave:E},r.default)}}),pt=["none","strict","leaf","leaf-filtered"],xt=J({name:"QTree",props:{...Se,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>pt.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:{},noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:r,emit:s}){const{proxy:y}=ce(),{$q:t}=y,i=Ee(e,t),o=B({}),f=B(e.ticked||[]),d=B(e.expanded||[]);let c={};Ve(()=>{c={}});const w=z(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(i.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),S=z(()=>e.selected!==void 0),x=z(()=>e.icon||t.iconSet.tree.icon),C=z(()=>e.controlColor||e.color),E=z(()=>e.textColor!==void 0?` text-${e.textColor}`:""),v=z(()=>{const l=e.selectedColor||e.color;return l?` text-${l}`:""}),$=z(()=>e.filterMethod!==void 0?e.filterMethod:(l,a)=>{const n=a.toLowerCase();return l[e.labelKey]&&l[e.labelKey].toLowerCase().indexOf(n)!==-1}),p=z(()=>{const l={},a=(n,h)=>{const u=n.tickStrategy||(h?h.tickStrategy:e.tickStrategy),b=n[e.nodeKey],_=n[e.childrenKey]&&Array.isArray(n[e.childrenKey])&&n[e.childrenKey].length!==0,O=n.disabled!==!0&&S.value===!0&&n.selectable!==!1,A=n.disabled!==!0&&n.expandable!==!1,Le=u!=="none",G=u==="strict",ge=u==="leaf-filtered",ee=u==="leaf"||u==="leaf-filtered";let te=n.disabled!==!0&&n.tickable!==!1;ee===!0&&te===!0&&h&&h.tickable!==!0&&(te=!1);let R=n.lazy;R===!0&&o.value[b]!==void 0&&Array.isArray(n[e.childrenKey])===!0&&(R=o.value[b]);const m={key:b,parent:h,isParent:_,lazy:R,disabled:n.disabled,link:n.disabled!==!0&&(O===!0||A===!0&&(_===!0||R===!0)),children:[],matchesFilter:e.filter?$.value(n,e.filter):!0,selected:b===e.selected&&O===!0,selectable:O,expanded:_===!0?d.value.includes(b):!1,expandable:A,noTick:n.noTick===!0||G!==!0&&R&&R!=="loaded",tickable:te,tickStrategy:u,hasTicking:Le,strictTicking:G,leafFilteredTicking:ge,leafTicking:ee,ticked:G===!0?f.value.includes(b):_===!0?!1:f.value.includes(b)};if(l[b]=m,_===!0&&(m.children=n[e.childrenKey].map(T=>a(T,m)),e.filter&&(m.matchesFilter!==!0?m.matchesFilter=m.children.some(T=>T.matchesFilter):m.noTick!==!0&&m.disabled!==!0&&m.tickable===!0&&ge===!0&&m.children.every(T=>T.matchesFilter!==!0||T.noTick===!0||T.tickable!==!0)===!0&&(m.tickable=!1)),m.matchesFilter===!0&&(m.noTick!==!0&&G!==!0&&m.children.every(T=>T.noTick)===!0&&(m.noTick=!0),ee))){if(m.ticked=!1,m.indeterminate=m.children.some(T=>T.indeterminate===!0),m.tickable=m.tickable===!0&&m.children.some(T=>T.tickable),m.indeterminate!==!0){const T=m.children.reduce((me,Me)=>Me.ticked===!0?me+1:me,0);T===m.children.length?m.ticked=!0:T>0&&(m.indeterminate=!0)}m.indeterminate===!0&&(m.indeterminateNextState=m.children.every(T=>T.tickable!==!0||T.ticked!==!0))}return m};return e.nodes.forEach(n=>a(n,null)),l});de(()=>e.ticked,l=>{f.value=l}),de(()=>e.expanded,l=>{d.value=l});function g(l){const a=[].reduce,n=(h,u)=>{if(h||!u)return h;if(Array.isArray(u)===!0)return a.call(Object(u),n,h);if(u[e.nodeKey]===l)return u;if(u[e.childrenKey])return n(null,u[e.childrenKey])};return n(null,e.nodes)}function F(){return f.value.map(l=>g(l))}function q(){return d.value.map(l=>g(l))}function K(l){return l&&p.value[l]?p.value[l].expanded:!1}function P(){e.expanded!==void 0?s("update:expanded",[]):d.value=[]}function Q(){const l=[],a=n=>{n[e.childrenKey]&&n[e.childrenKey].length!==0&&n.expandable!==!1&&n.disabled!==!0&&(l.push(n[e.nodeKey]),n[e.childrenKey].forEach(a))};e.nodes.forEach(a),e.expanded!==void 0?s("update:expanded",l):d.value=l}function U(l,a,n=g(l),h=p.value[l]){if(h.lazy&&h.lazy!=="loaded"){if(h.lazy==="loading")return;o.value[l]="loading",Array.isArray(n[e.childrenKey])!==!0&&(n[e.childrenKey]=[]),s("lazyLoad",{node:n,key:l,done:u=>{o.value[l]="loaded",n[e.childrenKey]=Array.isArray(u)===!0?u:[],Ye(()=>{const b=p.value[l];b&&b.isParent===!0&&I(l,!0)})},fail:()=>{delete o.value[l],n[e.childrenKey].length===0&&delete n[e.childrenKey]}})}else h.isParent===!0&&h.expandable===!0&&I(l,a)}function I(l,a){let n=d.value;const h=e.expanded!==void 0;if(h===!0&&(n=n.slice()),a){if(e.accordion&&p.value[l]){const u=[];p.value[l].parent?p.value[l].parent.children.forEach(b=>{b.key!==l&&b.expandable===!0&&u.push(b.key)}):e.nodes.forEach(b=>{const _=b[e.nodeKey];_!==l&&u.push(_)}),u.length!==0&&(n=n.filter(b=>u.includes(b)===!1))}n=n.concat([l]).filter((u,b,_)=>_.indexOf(u)===b)}else n=n.filter(u=>u!==l);h===!0?s("update:expanded",n):d.value=n}function Ae(l){return l&&p.value[l]?p.value[l].ticked:!1}function X(l,a){let n=f.value;const h=e.ticked!==void 0;h===!0&&(n=n.slice()),a?n=n.concat(l).filter((u,b,_)=>_.indexOf(u)===b):n=n.filter(u=>l.includes(u)===!1),h===!0&&s("update:ticked",n)}function ze(l,a,n){const h={tree:y,node:l,key:n,color:e.color,dark:i.value};return be(h,"expanded",()=>a.expanded,u=>{u!==a.expanded&&U(n,u)}),be(h,"ticked",()=>a.ticked,u=>{u!==a.ticked&&X([n],u)}),h}function he(l){return(e.filter?l.filter(a=>p.value[a[e.nodeKey]].matchesFilter):l).map(a=>Pe(a))}function Fe(l){if(l.icon!==void 0)return k(M,{class:"q-tree__icon q-mr-sm",name:l.icon,color:l.iconColor});const a=l.img||l.avatar;if(a)return k("img",{class:`q-tree__${l.img?"img":"avatar"} q-mr-sm`,src:a})}function Be(){s("afterShow")}function Qe(){s("afterHide")}function Pe(l){const a=l[e.nodeKey],n=p.value[a],h=l.header&&r[`header-${l.header}`]||r["default-header"],u=n.isParent===!0?he(l[e.childrenKey]):[],b=u.length!==0||n.lazy&&n.lazy!=="loaded";let _=l.body&&r[`body-${l.body}`]||r["default-body"];const O=h!==void 0||_!==void 0?ze(l,n,a):null;return _!==void 0&&(_=k("div",{class:"q-tree__node-body relative-position"},[k("div",{class:E.value},[_(O)])])),k("div",{key:a,class:`q-tree__node relative-position q-tree__node--${b===!0?"parent":"child"}`},[k("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(n.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(n.selected===!0?" q-tree__node--selected":"")+(n.disabled===!0?" q-tree__node--disabled":""),tabindex:n.link===!0?0:-1,ariaExpanded:u.length>0?n.expanded:null,role:"treeitem",onClick:A=>{ye(l,n,A)},onKeypress(A){He(A)!==!0&&(A.keyCode===13?ye(l,n,A,!0):A.keyCode===32&&Z(l,n,A,!0))}},[k("div",{class:"q-focus-helper",tabindex:-1,ref:A=>{c[n.key]=A}}),n.lazy==="loading"?k(Ke,{class:"q-tree__spinner",color:C.value}):b===!0?k(M,{class:"q-tree__arrow"+(n.expanded===!0?" q-tree__arrow--rotate":""),name:x.value,onClick(A){Z(l,n,A)}}):null,n.hasTicking===!0&&n.noTick!==!0?k(Ie,{class:"q-tree__tickbox",modelValue:n.indeterminate===!0?null:n.ticked,color:C.value,dark:i.value,dense:!0,keepColor:!0,disable:n.tickable!==!0,onKeydown:se,"onUpdate:modelValue":A=>{Ne(n,A)}}):null,k("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(n.selected===!0?v.value:E.value)},[h?h(O):[Fe(l),k("div",l[e.labelKey])]])]),b===!0?e.noTransition===!0?n.expanded===!0?k("div",{class:"q-tree__node-collapsible"+E.value,key:`${a}__q`},[_,k("div",{class:"q-tree__children"+(n.disabled===!0?" q-tree__node--disabled":""),role:"group"},u)]):null:k(kt,{duration:e.duration,onShow:Be,onHide:Qe},()=>Xe(k("div",{class:"q-tree__node-collapsible"+E.value,key:`${a}__q`},[_,k("div",{class:"q-tree__children"+(n.disabled===!0?" q-tree__node--disabled":""),role:"group"},u)]),[[Ge,n.expanded]])):_])}function ve(l){const a=c[l];a&&a.focus()}function ye(l,a,n,h){h!==!0&&a.selectable!==!1&&ve(a.key),S.value&&a.selectable?e.noSelectionUnset===!1?s("update:selected",a.key!==e.selected?a.key:null):a.key!==e.selected&&s("update:selected",a.key===void 0?null:a.key):Z(l,a,n,h),typeof l.handler=="function"&&l.handler(l)}function Z(l,a,n,h){n!==void 0&&se(n),h!==!0&&a.selectable!==!1&&ve(a.key),U(a.key,!a.expanded,l,a)}function Ne(l,a){if(l.indeterminate===!0&&(a=l.indeterminateNextState),l.strictTicking)X([l.key],a);else if(l.leafTicking){const n=[],h=u=>{u.isParent?(a!==!0&&u.noTick!==!0&&u.tickable===!0&&n.push(u.key),u.leafTicking===!0&&u.children.forEach(h)):u.noTick!==!0&&u.tickable===!0&&(u.leafFilteredTicking!==!0||u.matchesFilter===!0)&&n.push(u.key)};h(l),X(n,a)}}return e.defaultExpandAll===!0&&Q(),Object.assign(y,{getNodeByKey:g,getTickedNodes:F,getExpandedNodes:q,isExpanded:K,collapseAll:P,expandAll:Q,setExpanded:U,isTicked:Ae,setTicked:X}),()=>{const l=he(e.nodes);return k("div",{class:w.value,role:"tree"},l.length===0?e.filter?e.noResultsLabel||t.lang.tree.noResults:e.noNodesLabel||t.lang.tree.noNodes:l)}}}),_t=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],wt=["wave","pulse","pulse-x","pulse-y","fade","blink","none"],Ct=J({name:"QSkeleton",props:{...Se,tag:{type:String,default:"div"},type:{type:String,validator:e=>_t.includes(e),default:"rect"},animation:{type:String,validator:e=>wt.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:r}){const s=ce(),y=Ee(e,s.proxy.$q),t=z(()=>{const o=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:o[0],height:o[1]}}),i=z(()=>`q-skeleton q-skeleton--${y.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>k(e.tag,{class:i.value,style:t.value},$e(r.default))}});function qt(e,r,s){return s<=r?r:Math.min(s,Math.max(r,e))}const qe=40,ae=20,Tt=J({name:"QPullToRefresh",props:{color:String,bgColor:String,icon:String,noMouse:Boolean,disable:Boolean,scrollTarget:We},emits:["refresh"],setup(e,{slots:r,emit:s}){const{proxy:y}=ce(),{$q:t}=y,i=B("pull"),o=B(0),f=B(!1),d=B(-40),c=B(!1),w=B({}),S=z(()=>({opacity:o.value,transform:`translateY(${d.value}px) rotate(${o.value*360}deg)`})),x=z(()=>"q-pull-to-refresh__puller row flex-center"+(c.value===!0?" q-pull-to-refresh__puller--animating":"")+(e.bgColor!==void 0?` bg-${e.bgColor}`:""));function C(K){if(K.isFinal===!0){f.value===!0&&(f.value=!1,i.value==="pulled"?(i.value="refreshing",F({pos:ae}),$()):i.value==="pull"&&F({pos:-40,ratio:0}));return}if(c.value===!0||i.value==="refreshing")return!1;if(K.isFirst===!0){if(et(p)!==0||K.direction!=="down")return f.value===!0&&(f.value=!1,i.value="pull",F({pos:-40,ratio:0})),!1;f.value=!0;const{top:U,left:I}=y.$el.getBoundingClientRect();w.value={top:U+"px",left:I+"px",width:window.getComputedStyle(y.$el).getPropertyValue("width")}}ue(K.evt);const P=Math.min(140,Math.max(0,K.distance.y));d.value=P-qe,o.value=qt(P/(ae+qe),0,1);const Q=d.value>ae?"pulled":"pull";i.value!==Q&&(i.value=Q)}const E=z(()=>{const K={down:!0};return e.noMouse!==!0&&(K.mouse=!0),[[bt,C,void 0,K]]}),v=z(()=>`q-pull-to-refresh__content${f.value===!0?" no-pointer-events":""}`);function $(){s("refresh",()=>{F({pos:-40,ratio:0},()=>{i.value="pull"})})}let p,g=null;function F({pos:K,ratio:P},Q){c.value=!0,d.value=K,P!==void 0&&(o.value=P),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,c.value=!1,Q&&Q()},300)}function q(){p=tt(y.$el,e.scrollTarget)}return de(()=>e.scrollTarget,q),Je(q),Te(()=>{g!==null&&clearTimeout(g)}),Object.assign(y,{trigger:$,updateScrollTarget:q}),()=>{const K=[k("div",{class:v.value},$e(r.default)),k("div",{class:"q-pull-to-refresh__puller-container fixed row flex-center no-pointer-events z-top",style:w.value},[k("div",{class:x.value,style:S.value},[i.value!=="refreshing"?k(M,{name:e.icon||t.iconSet.pullToRefresh.icon,color:e.color,size:"32px"}):k(Ke,{size:"24px",color:e.color})])])];return Ze("div",{class:"q-pull-to-refresh"},K,"main",e.disable===!1,()=>E.value)}}}),St={class:"q-pa-md"},Et={class:"row no-wrap justify-between full-width"},Kt={class:"row no-wrap ellipsis line items-center full-width"},$t={class:"full-width"},At={class:"row no-wrap justify-between gap-2 full-width"},zt=["onClick"],Ft={class:"flex-1"},Bt={key:1},Ot=nt({__name:"MenuView",setup(e){const{t:r}=ht(),s=ft(),{setActiveNode:y,setSelectedNode:t}=ct(),{tree:i,loadingTree:o,expandedNodes:f}=lt(ke()),{downloadTree:d,setExpanded:c}=ke(),{navigate:w}=st(),S=it("pageTitle");S.value=r("layout.main");const x=B(""),C=z({get:()=>f,set:g=>c(g)}),E=async g=>{g(),await d(1e3)},v=async g=>{y(g),await w("active")},$=async g=>{t(g),await w("folder")},p=async g=>{t(g),await w("file")};return(g,F)=>(N(),Y(Tt,{onRefresh:E,"bg-color":j(s).dark.isActive?"dark":"white",class:"absolute-full md:relative"},{default:H(()=>[L("div",St,[D(rt,{dense:"",filled:"",modelValue:x.value,"onUpdate:modelValue":F[1]||(F[1]=q=>x.value=q),label:j(r)("filter.search"),class:"q-my-md"},{append:H(()=>[x.value===""?(N(),Y(M,{key:0,name:"search"})):(N(),Y(M,{key:1,name:"clear",class:"cursor-pointer",onClick:F[0]||(F[0]=q=>x.value="")}))]),_:1},8,["modelValue","label"]),j(o)?(N(),_e("div",Bt,[(N(!0),_e(ut,null,ot(j(i).length,q=>(N(),Y(Ct,{key:q,height:"30px",type:"rect",class:"q-my-md q-mx-sm"}))),128))])):(N(),Y(dt,{key:0,transition:"jump-down",class:"example-item","transition-duration":700},{default:H(()=>[D(xt,at({class:{"text-center":j(i).length===0}},{"no-nodes-label":"No files found",class:"text-body1",nodes:j(i),"node-key":"id",filter:x.value,expanded:C.value.value,"onUpdate:expanded":F[2]||(F[2]=q=>C.value.value=q)}),{"header-folder":H(q=>[L("div",Et,[L("div",Kt,[D(M,{class:"q-mr-sm text-blue-8",name:"room_service"}),L("div",$t,pe(q.node.label),1)]),D(xe,{flat:"",dense:"",color:"primary",icon:"edit",onClick:K=>$(q.node)},null,8,["onClick"])])]),"header-file":H(q=>[L("div",At,[L("div",{class:"row no-wrap ellipsis items-center full-width",onClick:K=>v(q.node)},[D(M,{size:"20px",class:"q-mr-xs text-blue-8",name:"restaurant_menu"}),L("div",Ft,pe(q.node.label.split(".")[0]),1)],8,zt),D(xe,{flat:"",dense:"",color:"primary",icon:"edit",onClick:K=>p(q.node)},null,8,["onClick"])])]),_:1},16,["nodes","filter","expanded"])]),_:1}))])]),_:1},8,["bg-color"]))}});export{bt as T,Ot as _};
